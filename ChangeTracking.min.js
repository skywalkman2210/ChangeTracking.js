"function"==typeof jQuery&&$.fn.extend({useTracking:function(t){useTracking({target:this[0],...t})}});var extend=function(){var t={},e=!1,n=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],n++);for(var r=function(n){for(var r in n)n.hasOwnProperty(r)&&(e&&"[object Object]"===Object.prototype.toString.call(n[r])?t[r]=extend(t[r],n[r]):t[r]=n[r])};n<arguments.length;n++)r(arguments[n]);return t},foreach=function(t,e){for(var n=0;n<t.length;n++)e(n,t[n])};function useTracking(t){var e,n,r=u(t.target);n=function(t){function e(){}return e.prototype=t,new e}(e=void 0===r?{}:r);var o=t.target.querySelectorAll("input:not([notracking])");foreach(o,function(t,e){e.onchange=function(){i(this)}});var a=t.target.querySelectorAll("select:not([notracking])");function i(r){r.value;if(void 0===r.getAttribute("data-prop")||""===r.getAttribute("data-prop")){if(r.getAttribute("id"))throw"Element with ID of '"+r.getAttribute("id")+"' has no data-prop. Either specify a data-prop or use the 'notracking' attribute.";if(r.getAttribute("name"))throw"Element with NAME of '"+r.getAttribute("name")+"' has no data-prop. Either specify a data-prop or use the 'notracking' attribute."}else u(r);t.onTrack&&t.onTrack(n,e)}function u(t){var e=[];"function"==typeof jQuery&&(t=$(t)[0]);if("form"==t.tagName.toLowerCase()){for(var r={},o={},a=t.querySelectorAll("input:not([notracking]), select:not([notracking])"),i=a.length,u=0;u<i;u++){var c=a[u],f=(e=c.getAttribute("data-prop").split("."))[e.length-1],g="{ ";if(e.length>1)for(var l=0;l<e.length-1;l++)g+='"'+e[l]+'": { ';if(g+='"'+f+'": "'+c.value+'"',e.length>1)for(l=0;l<e.length-1;l++)g+=" } ";g+="}",r=JSON.parse(g),o=extend(!0,o,r)}return o}r={},g="{ ",f=(e=t.getAttribute("data-prop").split("."))[e.length-1];if(e.length>1)for(l=0;l<e.length-1;l++)g+='"'+e[l]+'": { ';if(g+='"'+f+'": "'+t.value+'" ',e.length>1)for(l=0;l<e.length-1;l++)g+="} ";g+="}",r=JSON.parse(g),n=extend(!0,n,r)}foreach(a,function(t,e){e.onchange=function(){i(this)}}),t.target.onsubmit=function(){var r=extend(!0,e,n);return!t.onSubmit||t.onSubmit(r,e,n)}}